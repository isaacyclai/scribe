---
import Layout from '../../layouts/Layout.astro';
import SessionCard from '../../components/SessionCard.astro';
import { getSessions, getSessionCount } from '../../lib/db';

const sessions = getSessions();
const totalCount = getSessionCount();
---

<Layout title="Parliament Sittings" description="Browse all Singapore Parliament sittings">
  <h1 class="mb-2 text-3xl font-bold text-zinc-900">
    Parliament Sittings
  </h1>
  <p class="mb-6 text-zinc-600">
    Here, you can find the proceedings of each Parliament sitting. A typical sitting consists of 90 minutes of
    <a href="/questions" class="text-blue-600 hover:underline">question time</a>,
    followed by readings and debates of various <a href="/bills" class="text-blue-600 hover:underline">bills</a> and
    <a href="/motions" class="text-blue-600 hover:underline">motions</a>.
  </p>
  <p class="mb-6 text-zinc-600">
    A day before the sitting, the agenda for the day will be published in the
    <a href="https://www.parliament.gov.sg/parliamentary-business/order-paper" class="text-blue-600 hover:underline" target="_blank" rel="noopener noreferrer">order paper</a>.
    Parliament sittings are also live streamed on the
    <a href="https://www.youtube.com/@SingaporeMDDI/streams" class="text-blue-600 hover:underline" target="_blank" rel="noopener noreferrer">MDDI youtube channel</a>.
  </p>

  <p class="mb-4 text-sm text-zinc-500">
    Showing {sessions.length} of {totalCount} sittings
  </p>

  <div class="grid gap-4">
    {sessions.length === 0 ? (
      <p class="py-8 text-center text-zinc-500">
        No sessions found
      </p>
    ) : (
      sessions.map((session) => (
        <SessionCard session={session} />
      ))
    )}
  </div>
</Layout>
